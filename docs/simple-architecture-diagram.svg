<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #34495e; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #2c3e50; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; fill: #7f8c8d; }
      .legacy-box { fill: #ffebee; stroke: #f44336; stroke-width: 2; }
      .azure-box { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; }
      .component { fill: #ffffff; stroke: #666666; stroke-width: 1; }
      .arrow { stroke: #f44336; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f44336" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" class="title">Delphi ISAPI Migration Architecture</text>
  
  <!-- Before Section -->
  <text x="200" y="70" text-anchor="middle" class="subtitle">BEFORE: On-Premises</text>
  <rect x="50" y="80" width="300" height="200" rx="10" class="legacy-box"/>
  
  <!-- Legacy Components -->
  <rect x="70" y="100" width="100" height="60" rx="5" class="component"/>
  <text x="120" y="125" text-anchor="middle" class="text">Windows</text>
  <text x="120" y="140" text-anchor="middle" class="text">Server</text>
  <text x="120" y="155" text-anchor="middle" class="small-text">Manual Setup</text>
  
  <rect x="190" y="100" width="100" height="60" rx="5" class="component"/>
  <text x="240" y="125" text-anchor="middle" class="text">IIS +</text>
  <text x="240" y="140" text-anchor="middle" class="text">ISAPI DLL</text>
  <text x="240" y="155" text-anchor="middle" class="small-text">Delphi Legacy</text>
  
  <rect x="70" y="180" width="100" height="60" rx="5" class="component"/>
  <text x="120" y="205" text-anchor="middle" class="text">SQL Server</text>
  <text x="120" y="220" text-anchor="middle" class="text">Local</text>
  <text x="120" y="235" text-anchor="middle" class="small-text">Manual Backup</text>
  
  <rect x="190" y="180" width="100" height="60" rx="5" class="component"/>
  <text x="240" y="205" text-anchor="middle" class="text">File System</text>
  <text x="240" y="220" text-anchor="middle" class="text">Registry</text>
  <text x="240" y="235" text-anchor="middle" class="small-text">Full Access</text>
  
  <!-- Migration Arrow -->
  <path d="M 370 180 L 430 180" class="arrow"/>
  <text x="400" y="170" text-anchor="middle" class="text" fill="#f44336">MIGRATE</text>
  
  <!-- After Section -->
  <text x="700" y="70" text-anchor="middle" class="subtitle">AFTER: Azure App Service</text>
  <rect x="550" y="80" width="300" height="200" rx="10" class="azure-box"/>
  
  <!-- Azure Components -->
  <rect x="570" y="100" width="120" height="60" rx="5" class="component"/>
  <text x="630" y="125" text-anchor="middle" class="text">Azure App</text>
  <text x="630" y="140" text-anchor="middle" class="text">Service</text>
  <text x="630" y="155" text-anchor="middle" class="small-text">Managed Platform</text>
  
  <rect x="710" y="100" width="120" height="60" rx="5" class="component"/>
  <text x="770" y="125" text-anchor="middle" class="text">ISAPI Filter</text>
  <text x="770" y="140" text-anchor="middle" class="text">Migrated</text>
  <text x="770" y="155" text-anchor="middle" class="small-text">Sandbox Compatible</text>
  
  <rect x="570" y="180" width="120" height="60" rx="5" class="component"/>
  <text x="630" y="205" text-anchor="middle" class="text">Azure SQL</text>
  <text x="630" y="220" text-anchor="middle" class="text">Database</text>
  <text x="630" y="235" text-anchor="middle" class="small-text">Managed Service</text>
  
  <rect x="710" y="180" width="120" height="60" rx="5" class="component"/>
  <text x="770" y="205" text-anchor="middle" class="text">Azure Storage</text>
  <text x="770" y="220" text-anchor="middle" class="text">App Settings</text>
  <text x="770" y="235" text-anchor="middle" class="small-text">Cloud Storage</text>
  
  <!-- Benefits Comparison -->
  <text x="200" y="320" text-anchor="middle" class="subtitle" fill="#f44336">Legacy Challenges</text>
  <text x="50" y="345" class="small-text">❌ Manual server management</text>
  <text x="50" y="360" class="small-text">❌ Limited scalability</text>
  <text x="50" y="375" class="small-text">❌ Hardware dependencies</text>
  <text x="50" y="390" class="small-text">❌ Security vulnerabilities</text>
  <text x="50" y="405" class="small-text">❌ Maintenance overhead</text>
  
  <text x="700" y="320" text-anchor="middle" class="subtitle" fill="#2196f3">Azure Benefits</text>
  <text x="550" y="345" class="small-text">✅ Fully managed platform</text>
  <text x="550" y="360" class="small-text">✅ Auto-scaling</text>
  <text x="550" y="375" class="small-text">✅ Built-in security</text>
  <text x="550" y="390" class="small-text">✅ Global availability</text>
  <text x="550" y="405" class="small-text">✅ Automated backups</text>
  
  <!-- Migration Toolkit -->
  <text x="500" y="450" text-anchor="middle" class="subtitle">Migration Toolkit Includes</text>
  <text x="150" y="480" text-anchor="middle" class="text">🏗️ Bicep Templates</text>
  <text x="300" y="480" text-anchor="middle" class="text">⚙️ PowerShell Scripts</text>
  <text x="450" y="480" text-anchor="middle" class="text">📝 Documentation</text>
  <text x="600" y="480" text-anchor="middle" class="text">🔍 Sandbox Checklist</text>
  <text x="750" y="480" text-anchor="middle" class="text">🧪 Testing Tools</text>
  
  <text x="500" y="520" text-anchor="middle" class="text">Complete step-by-step migration guide from legacy Delphi ISAPI to modern Azure App Service</text>
  <text x="500" y="540" text-anchor="middle" class="small-text">Repository: https://github.com/odaibert/delphi-azure-migration-toolkit</text>
  
</svg>
