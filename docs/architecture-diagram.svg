<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" font-family="Arial" font-size="22" font-weight="bold" fill="#2c3e50">Delphi ISAPI Migration: Before vs After</text>
  
  <!-- BEFORE Section -->
  <text x="250" y="70" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#e74c3c">BEFORE: Legacy On-Premises</text>
  
  <!-- Legacy Environment Box -->
  <rect x="50" y="80" width="400" height="220" rx="10" fill="#ffebee" stroke="#e74c3c" stroke-width="2"/>
  
  <!-- Legacy Components -->
  <rect x="80" y="100" width="120" height="60" rx="5" fill="#ffffff" stroke="#666666" stroke-width="1"/>
  <text x="140" y="125" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">Windows Server</text>
  <text x="140" y="140" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Manual Setup</text>
  <text x="140" y="155" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Hardware Dependent</text>
  
  <rect x="220" y="100" width="120" height="60" rx="5" fill="#fff3cd" stroke="#856404" stroke-width="1"/>
  <text x="280" y="125" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">IIS + ISAPI</text>
  <text x="280" y="140" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Delphi DLL</text>
  <text x="280" y="155" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Legacy Code</text>
  
  <rect x="80" y="180" width="120" height="60" rx="5" fill="#ffffff" stroke="#666666" stroke-width="1"/>
  <text x="140" y="205" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">SQL Server</text>
  <text x="140" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Local Database</text>
  <text x="140" y="235" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Manual Backup</text>
  
  <rect x="220" y="180" width="120" height="60" rx="5" fill="#ffffff" stroke="#666666" stroke-width="1"/>
  <text x="280" y="205" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">File System</text>
  <text x="280" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Registry Access</text>
  <text x="280" y="235" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Full Permissions</text>
  
  <!-- Migration Arrow -->
  <path d="M 470 190 L 530 190" stroke="#dc3545" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
  <text x="500" y="180" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#dc3545">MIGRATE</text>
  
  <!-- AFTER Section -->
  <text x="750" y="70" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#2196f3">AFTER: Azure App Service</text>
  
  <!-- Azure Environment Box -->
  <rect x="550" y="80" width="400" height="220" rx="10" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  
  <!-- Azure Components -->
  <rect x="580" y="100" width="120" height="60" rx="5" fill="#ffffff" stroke="#666666" stroke-width="1"/>
  <text x="640" y="125" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">Azure App Service</text>
  <text x="640" y="140" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Managed Platform</text>
  <text x="640" y="155" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Auto-scaling</text>
  
  <rect x="720" y="100" width="120" height="60" rx="5" fill="#d1ecf1" stroke="#0c5460" stroke-width="1"/>
  <text x="780" y="125" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">ISAPI Filter</text>
  <text x="780" y="140" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Migrated DLL</text>
  <text x="780" y="155" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Sandbox Compatible</text>
  
  <rect x="580" y="180" width="120" height="60" rx="5" fill="#ffffff" stroke="#666666" stroke-width="1"/>
  <text x="640" y="205" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">Azure SQL</text>
  <text x="640" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Managed Database</text>
  <text x="640" y="235" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Auto-backup</text>
  
  <rect x="720" y="180" width="120" height="60" rx="5" fill="#ffffff" stroke="#666666" stroke-width="1"/>
  <text x="780" y="205" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">Azure Storage</text>
  <text x="780" y="220" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Blob Storage</text>
  <text x="780" y="235" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">App Settings</text>
  
  <!-- Challenges vs Benefits -->
  <text x="250" y="340" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#e74c3c">Legacy Challenges</text>
  <text x="70" y="365" font-family="Arial" font-size="11" fill="#e74c3c">❌ Manual server management</text>
  <text x="70" y="380" font-family="Arial" font-size="11" fill="#e74c3c">❌ Limited scalability</text>
  <text x="70" y="395" font-family="Arial" font-size="11" fill="#e74c3c">❌ Hardware dependencies</text>
  <text x="70" y="410" font-family="Arial" font-size="11" fill="#e74c3c">❌ Security vulnerabilities</text>
  <text x="70" y="425" font-family="Arial" font-size="11" fill="#e74c3c">❌ Maintenance overhead</text>
  
  <text x="750" y="340" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#2196f3">Azure Benefits</text>
  <text x="570" y="365" font-family="Arial" font-size="11" fill="#2196f3">✅ Fully managed platform</text>
  <text x="570" y="380" font-family="Arial" font-size="11" fill="#2196f3">✅ Auto-scaling capability</text>
  <text x="570" y="395" font-family="Arial" font-size="11" fill="#2196f3">✅ Built-in security</text>
  <text x="570" y="410" font-family="Arial" font-size="11" fill="#2196f3">✅ Global availability</text>
  <text x="570" y="425" font-family="Arial" font-size="11" fill="#2196f3">✅ Automated backups</text>
  
  <!-- Migration Toolkit -->
  <rect x="50" y="460" width="900" height="180" rx="10" fill="#f8f9fa" stroke="#6c757d" stroke-width="1"/>
  <text x="500" y="485" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#2c3e50">Migration Toolkit Components</text>
  
  <!-- Toolkit Components -->
  <rect x="80" y="500" width="110" height="60" rx="5" fill="#d1ecf1" stroke="#0c5460" stroke-width="1"/>
  <text x="135" y="520" text-anchor="middle" font-family="Arial" font-size="10" fill="#2c3e50">Bicep Templates</text>
  <text x="135" y="535" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Infrastructure</text>
  <text x="135" y="550" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">as Code</text>
  
  <rect x="210" y="500" width="110" height="60" rx="5" fill="#d1ecf1" stroke="#0c5460" stroke-width="1"/>
  <text x="265" y="520" text-anchor="middle" font-family="Arial" font-size="10" fill="#2c3e50">PowerShell</text>
  <text x="265" y="535" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Deployment</text>
  <text x="265" y="550" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Scripts</text>
  
  <rect x="340" y="500" width="110" height="60" rx="5" fill="#d1ecf1" stroke="#0c5460" stroke-width="1"/>
  <text x="395" y="520" text-anchor="middle" font-family="Arial" font-size="10" fill="#2c3e50">Configuration</text>
  <text x="395" y="535" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">web.config</text>
  <text x="395" y="550" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">ISAPI Settings</text>
  
  <rect x="470" y="500" width="110" height="60" rx="5" fill="#d1ecf1" stroke="#0c5460" stroke-width="1"/>
  <text x="525" y="520" text-anchor="middle" font-family="Arial" font-size="10" fill="#2c3e50">Documentation</text>
  <text x="525" y="535" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Step-by-step</text>
  <text x="525" y="550" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Migration Guide</text>
  
  <rect x="600" y="500" width="110" height="60" rx="5" fill="#d1ecf1" stroke="#0c5460" stroke-width="1"/>
  <text x="655" y="520" text-anchor="middle" font-family="Arial" font-size="10" fill="#2c3e50">Sandbox</text>
  <text x="655" y="535" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Compliance</text>
  <text x="655" y="550" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Checklist</text>
  
  <rect x="730" y="500" width="110" height="60" rx="5" fill="#d1ecf1" stroke="#0c5460" stroke-width="1"/>
  <text x="785" y="520" text-anchor="middle" font-family="Arial" font-size="10" fill="#2c3e50">Testing Tools</text>
  <text x="785" y="535" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Validation</text>
  <text x="785" y="550" text-anchor="middle" font-family="Arial" font-size="9" fill="#7f8c8d">Scripts</text>
  
  <!-- Repository Info -->
  <text x="500" y="590" text-anchor="middle" font-family="Arial" font-size="12" fill="#2c3e50">Complete migration toolkit from legacy Delphi ISAPI to modern Azure App Service</text>
  <text x="500" y="610" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">Repository: https://github.com/odaibert/delphi-azure-migration-toolkit</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 0,6 9,3" fill="#dc3545"/>
    </marker>
  </defs>
</svg>
